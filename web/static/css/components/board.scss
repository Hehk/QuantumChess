@import '../variables.scss';


@mixin chess-board ($boardDim, $board-width) {
  $tile-width: $board-width / $boardDim;

  width: $board-width;
  margin: 0 auto;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);

  .row {
    height: $tile-width;
    display: flex;
    margin: 0;
    padding: 0;

    .tile {
      width: $tile-width;
      height: $tile-width;
      line-height: $tile-width;
      text-align: center;
      font-size: 3em;
      font-family: $font;
      text-transform: uppercase;
      overflow: hidden;
      // TODO: need to get auto prefixing for other browsers
      -webkit-user-select: none;

      position: relative;
      &:before {
        $overlap: $tile-width / -2;
        content: '';

        position: absolute;
        top: $overlap;
        bottom: $overlap;
        right: $overlap;
        left: $overlap;

        transform: scale(0);
        border-radius: 50%;
        transition: 0.5s ease-in-out;
      }

      $light: 0.25;
      $heavy: 0.5;

      &.invalid:before {
        //background-color: rgba($red, $light);
        transform: scale(1);
      }
      &.valid:before {
        background-color: rgba($green, $light);
        transform: scale(1);
      }
      &.valid.target:before {
        background-color: rgba($red, $heavy);
      }
      &.active:before {
        background-color: rgba($blue, $heavy);
        transform: scale(1);
      }

      &.color-0 {
        color: $black;
      }
      &.color-1 {
        color: $blue;
      }
    }

    &:nth-child(2n) {
      .tile {
        &:nth-child(2n) {
          background-color: $grey;
        }
        &:nth-child(2n-1) {
          background-color: $white;
        }
      }
    }
    &:nth-child(2n-1) {
      .tile {
        &:nth-child(2n) {
          background-color: $white;
        }
        &:nth-child(2n-1) {
          background-color: $grey;
        }
      }
    }
  }  
}
